<!--
Inputs:
postTitle // Title of the post to search for. Gets metadata from that post.

# CaseSensitive for now, *should probably also just be 0 or 1*
imagePosition // "left" or "right"
-->

<!-- Stupidly Case sensitive -->
{% assign foundPost = site.posts | where_exp: "post", "post.title == include.postTitle" | first %}

{% if foundPost %}
{% else %}
<h1>POST NOT FOUND</h1>
{% endif %}

<a href="{{ foundPost.url | relative_url }}" class="post-cover">
    <!-- NOTE: Auto formatting will break this. Be warned -->
    <div class="columns is-vcentered m-0 p-0 
    {% if include.imagePosition == "left" %} 
    is-flex-direction-row-tablet 
    {% else %} 
    is-flex-direction-row-reverse-tablet {% endif %}
    ">
        <div class=" column is-7 is-rotate-on-hover rotate-left">
        <figure class="image is-3by1 my-3">
            <video src="{{ foundPost.cover_video | relative_url }}" autoplay muted loop
                class="is-object-fit-cover is-hover-border-solid is-hover-border-color-primary is-hover-border-width-01rem"
                style="width:100%; height:100%; " alt="{{ foundPost.title }} showcase video"></video>
        </figure>
    </div>

    <div class="column has-text-centered">
        <h1 class="is-size-1">
            {{ foundPost.title }}
        </h1>

        <p class="my-2">{{foundPost.description}}</p>

        <div class="content">
            <span class="icon-text">
                <span class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-person-fill" viewBox="0 0 16 16">
                        <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6" />
                    </svg>
                </span>
                <span>{{ foundPost.team_size }}</span>
            </span>

            <span class="icon-text">
                <span class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-clock-fill" viewBox="0 0 16 16">
                        <path
                            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71z" />
                    </svg>
                </span>
                <span>{{ foundPost.duration }}</span>
            </span>

            <p class="content">
                {% for tag in foundPost.tags %}
                {{ tag }}{% unless forloop.last %}, {% endunless %}
                {% endfor %}
            </p>
        </div>

        <div class="content">
            <button class="button my-2">Read More</button>
        </div>
    </div>
    </div>
</a>